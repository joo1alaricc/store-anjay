<!doctype html>
<html lang="id">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tian Store - Digital Shop Terpercaya</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        body {
            box-sizing: border-box;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Glassmorphism Base */
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
        }

        .glass-strong {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        /* Navbar */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            padding: 1rem 2rem;
            transition: all 0.3s ease;
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }

        .nav-link {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-link:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .user-menu {
            position: relative;
        }

        .user-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .user-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 0.5rem;
            min-width: 200px;
            border-radius: 12px;
            padding: 1rem;
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .dropdown.show {
            display: block;
        }

        .dropdown-item {
            display: block;
            color: white;
            text-decoration: none;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .dropdown-item:hover {
            color: #60a5fa;
        }

        /* Mobile Menu */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Main Content */
        .main-content {
            margin-top: 80px;
            padding: 2rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Hero Section */
        .hero {
            text-align: center;
            padding: 4rem 2rem;
            margin-bottom: 3rem;
            border-radius: 20px;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(96, 165, 250, 0.1), rgba(139, 92, 246, 0.1));
            z-index: -1;
        }

        .hero h1 {
            font-size: 3rem;
            color: white;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .hero p {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .cta-btn {
            background: linear-gradient(135deg, #60a5fa, #3b82f6);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .cta-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(96, 165, 250, 0.3);
        }

        /* Categories */
        .categories {
            margin-bottom: 3rem;
        }

        .section-title {
            font-size: 2rem;
            color: white;
            text-align: center;
            margin-bottom: 2rem;
            font-weight: 600;
        }

        .category-nav {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            overflow-x: auto;
            padding: 1rem 0;
        }

        .category-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            font-weight: 500;
        }

        .category-btn:hover,
        .category-btn.active {
            background: rgba(96, 165, 250, 0.3);
            border-color: rgba(96, 165, 250, 0.5);
            transform: translateY(-2px);
        }

        /* Search */
        .search-container {
            margin-bottom: 2rem;
            text-align: center;
        }

        .search-box {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 1rem 1.5rem;
            color: white;
            font-size: 1rem;
            width: 100%;
            max-width: 400px;
            backdrop-filter: blur(10px);
        }

        .search-box::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .search-box:focus {
            outline: none;
            border-color: rgba(96, 165, 250, 0.5);
            box-shadow: 0 0 20px rgba(96, 165, 250, 0.2);
        }

        /* Products Grid */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .product-card {
            padding: 1.5rem;
            border-radius: 16px;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .product-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(96, 165, 250, 0.05), rgba(139, 92, 246, 0.05));
            z-index: -1;
            transition: all 0.3s ease;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(96, 165, 250, 0.2);
        }

        .product-card:hover::before {
            background: linear-gradient(45deg, rgba(96, 165, 250, 0.1), rgba(139, 92, 246, 0.1));
        }

        .product-image {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #60a5fa, #3b82f6);
            border-radius: 12px;
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }

        .product-name {
            font-size: 1.2rem;
            font-weight: 600;
            color: white;
            margin-bottom: 0.5rem;
            text-align: center;
        }

        .product-price {
            font-size: 1.1rem;
            color: #60a5fa;
            font-weight: 600;
            text-align: center;
            margin-bottom: 1rem;
        }

        .product-stock {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            text-align: center;
            margin-bottom: 1rem;
        }

        .add-to-cart {
            background: linear-gradient(135deg, #60a5fa, #3b82f6);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            font-weight: 600;
        }

        .add-to-cart:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(96, 165, 250, 0.3);
        }

        /* Cart */
        .cart-container {
            position: fixed;
            top: 50%;
            right: 2rem;
            transform: translateY(-50%);
            z-index: 1000;
            min-width: 300px;
            max-height: 70vh;
            overflow-y: auto;
            border-radius: 16px;
            padding: 1.5rem;
            display: none;
        }

        .cart-container.show {
            display: block;
            animation: slideIn 0.3s ease;
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            color: white;
        }

        .cart-title {
            font-size: 1.3rem;
            font-weight: 600;
        }

        .close-cart {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            font-weight: 500;
            margin-bottom: 0.25rem;
        }

        .cart-item-price {
            color: #60a5fa;
            font-size: 0.9rem;
        }

        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .qty-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cart-total {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            text-align: center;
        }

        .total-amount {
            font-size: 1.3rem;
            font-weight: 600;
            color: #60a5fa;
            margin-bottom: 1rem;
        }

        .checkout-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            font-weight: 600;
        }

        .checkout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.3);
        }

        /* Cart Toggle Button */
        .cart-toggle {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: linear-gradient(135deg, #60a5fa, #3b82f6);
            color: white;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 8px 25px rgba(96, 165, 250, 0.3);
        }

        .cart-toggle:hover {
            transform: scale(1.1);
        }

        .cart-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ef4444;
            color: white;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 600;
        }

        /* Auth Modal */
        .auth-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .auth-modal.show {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .auth-content {
            max-width: 400px;
            width: 100%;
            padding: 2rem;
            border-radius: 20px;
            position: relative;
        }

        .auth-title {
            font-size: 1.8rem;
            color: white;
            text-align: center;
            margin-bottom: 2rem;
            font-weight: 600;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            color: white;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-input {
            width: 100%;
            padding: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
            backdrop-filter: blur(10px);
        }

        .form-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .form-input:focus {
            outline: none;
            border-color: rgba(96, 165, 250, 0.5);
            box-shadow: 0 0 20px rgba(96, 165, 250, 0.2);
        }

        .auth-btn {
            background: linear-gradient(135deg, #60a5fa, #3b82f6);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            font-weight: 600;
            font-size: 1rem;
        }

        .auth-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(96, 165, 250, 0.3);
        }

        .auth-switch {
            text-align: center;
            margin-top: 1rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .auth-switch a {
            color: #60a5fa;
            text-decoration: none;
            font-weight: 500;
        }

        .auth-switch a:hover {
            text-decoration: underline;
        }

        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Footer */
        .footer {
            margin-top: 4rem;
            padding: 3rem 2rem 2rem;
            border-radius: 20px 20px 0 0;
            text-align: center;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer-title {
            font-size: 1.5rem;
            color: white;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .footer-description {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }

        .contact-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .contact-item {
            color: white;
        }

        .contact-label {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #60a5fa;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .social-link {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 1.2rem;
        }

        .social-link:hover {
            background: rgba(96, 165, 250, 0.3);
            transform: translateY(-3px);
        }

        .footer-bottom {
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            padding-top: 2rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .footer-link {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-link:hover {
            color: #60a5fa;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(100%); }
            to { opacity: 1; transform: translateX(0); }
        }

        .fade-in {
            animation: fadeIn 0.6s ease forwards;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }

            .mobile-menu-btn {
                display: block;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .hero p {
                font-size: 1rem;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                gap: 1rem;
            }

            .cart-container {
                position: fixed;
                top: 0;
                right: 0;
                bottom: 0;
                transform: none;
                max-height: none;
                border-radius: 0;
                width: 100%;
                max-width: 400px;
            }

            .category-nav {
                justify-content: flex-start;
            }

            .contact-info {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .footer-links {
                flex-direction: column;
                gap: 1rem;
            }
        }

        /* Hidden sections */
        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        /* About section */
        .about-content {
            padding: 2rem;
            border-radius: 16px;
            margin-bottom: 2rem;
            color: white;
            line-height: 1.8;
        }

        .about-content h2 {
            color: #60a5fa;
            margin-bottom: 1rem;
            font-size: 1.8rem;
        }

        .about-content p {
            margin-bottom: 1.5rem;
            color: rgba(255, 255, 255, 0.9);
        }

        /* Contact section */
        .contact-section {
            padding: 2rem;
            border-radius: 16px;
            color: white;
        }

        .contact-section h2 {
            color: #60a5fa;
            margin-bottom: 2rem;
            font-size: 1.8rem;
            text-align: center;
        }

        /* Transaction check */
        .transaction-check {
            padding: 2rem;
            border-radius: 16px;
            color: white;
            text-align: center;
        }

        .transaction-check h2 {
            color: #60a5fa;
            margin-bottom: 2rem;
            font-size: 1.8rem;
        }

        .transaction-check p {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 2rem;
        }

        .whatsapp-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .whatsapp-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.3);
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body><!-- Navbar -->
  <nav class="navbar glass">
   <div class="nav-content"><a href="#" class="logo" onclick="showSection('home')"> <span>ðŸŒ€</span> <span id="store-name">Tian Store</span> </a>
    <ul class="nav-menu">
     <li><a href="#" class="nav-link" onclick="showSection('home')">Beranda</a></li>
     <li><a href="#" class="nav-link" onclick="showSection('products')">Produk</a></li>
     <li><a href="#" class="nav-link" onclick="showSection('transaction')">Cek Transaksi</a></li>
     <li><a href="#" class="nav-link" onclick="showSection('about')">Tentang Kami</a></li>
     <li><a href="#" class="nav-link" onclick="showSection('contact')">Kontak</a></li>
    </ul>
    <div class="user-menu"><button class="user-btn" id="userBtn" onclick="toggleUserMenu()"> <span id="userStatus">Masuk / Daftar</span> </button>
     <div class="dropdown glass-strong" id="userDropdown">
      <div id="loggedInMenu" style="display: none;">
       <div class="dropdown-item">
        Saldo: Rp 0
       </div><a href="#" class="dropdown-item">Mutasi</a> <a href="#" class="dropdown-item">Pengaturan</a> <a href="#" class="dropdown-item" onclick="logout()">Logout</a>
      </div>
      <div id="loggedOutMenu"><a href="#" class="dropdown-item" onclick="showAuthModal('login')">Masuk</a> <a href="#" class="dropdown-item" onclick="showAuthModal('register')">Daftar</a>
      </div>
     </div>
    </div><button class="mobile-menu-btn">â˜°</button>
   </div>
  </nav><!-- Main Content -->
  <main class="main-content">
   <div class="container"><!-- Home Section -->
    <section id="home" class="section active"><!-- Hero -->
     <div class="hero glass fade-in">
      <h1 id="store-name-hero">Tian Store</h1>
      <p id="store-tagline">Tempat Top Up dan Belanja Digital Termurah &amp; Terpercaya</p><a href="#" class="cta-btn" onclick="showSection('products')">Mulai Belanja Sekarang</a>
     </div><!-- Popular Products -->
     <div class="categories">
      <h2 class="section-title">ðŸ”¥ Populer Sekarang!</h2>
      <div class="products-grid" id="popularProducts"><!-- Popular products will be loaded here -->
      </div>
     </div>
    </section><!-- Products Section -->
    <section id="products" class="section">
     <h2 class="section-title">Semua Produk</h2><!-- Search -->
     <div class="search-container"><input type="text" class="search-box" placeholder="Cari produk..." id="searchInput" oninput="searchProducts()">
     </div><!-- Categories -->
     <div class="category-nav" id="categoryNav"><!-- Categories will be loaded here -->
     </div><!-- Products Grid -->
     <div class="products-grid" id="productsGrid"><!-- Products will be loaded here -->
     </div>
    </section><!-- Transaction Check Section -->
    <section id="transaction" class="section">
     <div class="transaction-check glass">
      <h2>Cek Status Transaksi</h2>
      <p>Untuk mengecek status transaksi Anda, silakan hubungi customer service kami melalui WhatsApp dengan menyertakan nomor order atau bukti pembayaran.</p><a href="#" class="whatsapp-btn" id="checkTransactionBtn"> ðŸ“± Hubungi Customer Service </a>
     </div>
    </section><!-- About Section -->
    <section id="about" class="section">
     <div class="about-content glass">
      <h2>Tentang Tian Store</h2>
      <p>Tian Store adalah platform top up &amp; digital shop terpercaya di Indonesia, menghadirkan kemudahan transaksi digital dengan harga terjangkau dan pelayanan cepat.</p>
      <p>Kami berkomitmen untuk memberikan layanan terbaik kepada seluruh pelanggan dengan menyediakan berbagai produk digital berkualitas, mulai dari top up game, e-money, hingga voucher aplikasi populer.</p>
      <p>Dengan sistem yang aman dan terpercaya, Tian Store menjadi pilihan utama untuk semua kebutuhan digital Anda.</p>
     </div>
    </section><!-- Contact Section -->
    <section id="contact" class="section">
     <div class="contact-section glass">
      <h2>Hubungi Kami</h2>
      <div class="contact-info">
       <div class="contact-item">
        <div class="contact-label">
         WhatsApp
        </div>
        <div id="whatsapp-display">
         +62 812-3456-7890
        </div>
       </div>
       <div class="contact-item">
        <div class="contact-label">
         Instagram
        </div>
        <div id="instagram-display">
         @brzee_.sky
        </div>
       </div>
       <div class="contact-item">
        <div class="contact-label">
         Email
        </div>
        <div id="email-display">
         support@tianstore.com
        </div>
       </div>
       <div class="contact-item">
        <div class="contact-label">
         Alamat
        </div>
        <div>
         Jakarta, Indonesia
        </div>
       </div>
      </div>
     </div>
    </section>
   </div>
  </main><!-- Cart -->
  <div class="cart-container glass-strong" id="cartContainer">
   <div class="cart-header">
    <h3 class="cart-title">Keranjang Belanja</h3><button class="close-cart" onclick="toggleCart()">Ã—</button>
   </div>
   <div id="cartItems"><!-- Cart items will be loaded here -->
   </div>
   <div class="cart-total">
    <div class="total-amount" id="cartTotal">
     Total: Rp 0
    </div><button class="checkout-btn" onclick="checkout()">Checkout Sekarang</button>
   </div>
  </div><!-- Cart Toggle Button --> <button class="cart-toggle" onclick="toggleCart()"> ðŸ›’ <span class="cart-badge" id="cartBadge">0</span> </button> <!-- Auth Modal -->
  <div class="auth-modal" id="authModal">
   <div class="auth-content glass-strong"><button class="close-modal" onclick="closeAuthModal()">Ã—</button>
    <div id="loginForm">
     <h2 class="auth-title">Masuk ke Akun</h2>
     <form onsubmit="login(event)">
      <div class="form-group"><label class="form-label" for="loginEmail">Email</label> <input type="email" class="form-input" id="loginEmail" placeholder="Masukkan email" required>
      </div>
      <div class="form-group"><label class="form-label" for="loginPassword">Password</label> <input type="password" class="form-input" id="loginPassword" placeholder="Masukkan password" required>
      </div><button type="submit" class="auth-btn">Masuk</button>
     </form>
     <div class="auth-switch">
      Belum punya akun? <a href="#" onclick="showAuthModal('register')">Daftar sekarang</a>
     </div>
    </div>
    <div id="registerForm" style="display: none;">
     <h2 class="auth-title">Daftar Akun Baru</h2>
     <form onsubmit="register(event)">
      <div class="form-group"><label class="form-label" for="registerUsername">Username</label> <input type="text" class="form-input" id="registerUsername" placeholder="Masukkan username" required>
      </div>
      <div class="form-group"><label class="form-label" for="registerPhone">Nomor Telepon</label> <input type="tel" class="form-input" id="registerPhone" placeholder="Masukkan nomor telepon" required>
      </div>
      <div class="form-group"><label class="form-label" for="registerEmail">Email</label> <input type="email" class="form-input" id="registerEmail" placeholder="Masukkan email" required>
      </div>
      <div class="form-group"><label class="form-label" for="registerPassword">Password</label> <input type="password" class="form-input" id="registerPassword" placeholder="Masukkan password" required>
      </div>
      <div class="form-group"><label class="form-label" for="confirmPassword">Konfirmasi Password</label> <input type="password" class="form-input" id="confirmPassword" placeholder="Konfirmasi password" required>
      </div>
      <div class="form-group"><label class="form-label" for="referralCode">Kode Referral (Opsional)</label> <input type="text" class="form-input" id="referralCode" placeholder="Masukkan kode referral">
      </div><button type="submit" class="auth-btn">Daftar</button>
     </form>
     <div class="auth-switch">
      Sudah punya akun? <a href="#" onclick="showAuthModal('login')">Masuk sekarang</a>
     </div>
    </div>
   </div>
  </div><!-- Footer -->
  <footer class="footer glass">
   <div class="footer-content">
    <h3 class="footer-title" id="footer-store-name">Tian Store</h3>
    <p class="footer-description">Platform top up &amp; digital shop terpercaya di Indonesia, menghadirkan kemudahan transaksi digital dengan harga terjangkau dan pelayanan cepat.</p>
    <div class="social-links"><a href="#" class="social-link" id="whatsapp-link">ðŸ“±</a> <a href="#" class="social-link" id="instagram-link">ðŸ“·</a> <a href="#" class="social-link">ðŸ“˜</a>
    </div>
    <div class="footer-bottom">
     <div class="footer-links"><a href="#" class="footer-link">Kemitraan</a> <a href="#" class="footer-link">Daftar Harga</a> <a href="#" class="footer-link">Kebijakan Privasi</a> <a href="#" class="footer-link">Syarat &amp; Ketentuan</a>
     </div>
     <p>Â© 2025 <span id="footer-copyright">Tian Store</span>. All Rights Reserved.</p>
    </div>
   </div>
  </footer>
  <script>
        // Configuration data
        const categories = {
            "Top Up Games": [
                { id: 1, name: "Mobile Legends", price: 5000, stock: 100, image: "ðŸŽ®", description: "Diamond Mobile Legends" },
                { id: 2, name: "Free Fire", price: 4500, stock: 85, image: "ðŸ”¥", description: "Diamond Free Fire" },
                { id: 3, name: "PUBG Mobile", price: 6000, stock: 70, image: "ðŸŽ¯", description: "UC PUBG Mobile" },
                { id: 4, name: "Genshin Impact", price: 7000, stock: 50, image: "âš¡", description: "Genesis Crystal" },
                { id: 5, name: "Valorant", price: 8000, stock: 60, image: "ðŸŽª", description: "Valorant Points" },
                { id: 6, name: "Call of Duty Mobile", price: 5500, stock: 75, image: "ðŸ’¥", description: "COD Points" }
            ],
            "E-Money": [
                { id: 7, name: "GoPay", price: 10000, stock: 120, image: "ðŸ’³", description: "Saldo GoPay" },
                { id: 8, name: "Dana", price: 10000, stock: 110, image: "ðŸ’°", description: "Saldo Dana" },
                { id: 9, name: "OVO", price: 10000, stock: 95, image: "ðŸŸ£", description: "Saldo OVO" },
                { id: 10, name: "ShopeePay", price: 10000, stock: 105, image: "ðŸ›’", description: "Saldo ShopeePay" }
            ],
            "Voucher App": [
                { id: 11, name: "Netflix", price: 50000, stock: 40, image: "ðŸŽ¬", description: "Netflix Premium" },
                { id: 12, name: "Spotify", price: 25000, stock: 55, image: "ðŸŽµ", description: "Spotify Premium" },
                { id: 13, name: "YouTube Premium", price: 35000, stock: 45, image: "ðŸ“º", description: "YouTube Premium" },
                { id: 14, name: "Disney+ Hotstar", price: 40000, stock: 35, image: "ðŸ°", description: "Disney+ Premium" }
            ],
            "Pulsa & Data": [
                { id: 15, name: "Telkomsel", price: 20000, stock: 200, image: "ðŸ“±", description: "Pulsa Telkomsel" },
                { id: 16, name: "Indosat", price: 20000, stock: 180, image: "ðŸ“ž", description: "Pulsa Indosat" },
                { id: 17, name: "XL Axiata", price: 20000, stock: 160, image: "ðŸ“²", description: "Pulsa XL" },
                { id: 18, name: "Tri", price: 15000, stock: 140, image: "ðŸ“³", description: "Pulsa Tri" }
            ]
        };

        // Default configuration
        const defaultConfig = {
            store_name: "Tian Store",
            store_tagline: "Tempat Top Up dan Belanja Digital Termurah & Terpercaya",
            whatsapp_number: "628123456789",
            instagram_handle: "@brzee_.sky",
            support_email: "support@tianstore.com"
        };

        // Global variables
        let currentUser = null;
        let cart = [];
        let currentCategory = 'all';
        let allProducts = [];

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        function initializeApp() {
            // Load user session
            loadUserSession();
            
            // Initialize products
            initializeProducts();
            
            // Load popular products
            loadPopularProducts();
            
            // Load categories
            loadCategories();
            
            // Load all products
            loadProducts();
            
            // Update cart display
            updateCartDisplay();
            
            // Apply configuration
            applyConfig();
        }

        function applyConfig() {
            const config = window.elementSdk?.config || defaultConfig;
            
            // Update store name
            document.getElementById('store-name').textContent = config.store_name || defaultConfig.store_name;
            document.getElementById('store-name-hero').textContent = config.store_name || defaultConfig.store_name;
            document.getElementById('footer-store-name').textContent = config.store_name || defaultConfig.store_name;
            document.getElementById('footer-copyright').textContent = config.store_name || defaultConfig.store_name;
            
            // Update tagline
            document.getElementById('store-tagline').textContent = config.store_tagline || defaultConfig.store_tagline;
            
            // Update contact info
            document.getElementById('whatsapp-display').textContent = `+${config.whatsapp_number || defaultConfig.whatsapp_number}`;
            document.getElementById('instagram-display').textContent = config.instagram_handle || defaultConfig.instagram_handle;
            document.getElementById('email-display').textContent = config.support_email || defaultConfig.support_email;
            
            // Update links
            const whatsappNum = config.whatsapp_number || defaultConfig.whatsapp_number;
            document.getElementById('whatsapp-link').href = `https://wa.me/${whatsappNum}`;
            document.getElementById('instagram-link').href = `https://instagram.com/${(config.instagram_handle || defaultConfig.instagram_handle).replace('@', '')}`;
            document.getElementById('checkTransactionBtn').href = `https://wa.me/${whatsappNum}?text=Halo, saya ingin mengecek status transaksi saya.`;
        }

        function initializeProducts() {
            allProducts = [];
            Object.keys(categories).forEach(category => {
                categories[category].forEach(product => {
                    allProducts.push({...product, category});
                });
            });
        }

        function loadUserSession() {
            const userData = localStorage.getItem('tianstore_user');
            if (userData) {
                currentUser = JSON.parse(userData);
                updateUserDisplay();
            }
        }

        function updateUserDisplay() {
            const userStatus = document.getElementById('userStatus');
            const loggedInMenu = document.getElementById('loggedInMenu');
            const loggedOutMenu = document.getElementById('loggedOutMenu');
            
            if (currentUser) {
                userStatus.textContent = `Halo, ${currentUser.username}`;
                loggedInMenu.style.display = 'block';
                loggedOutMenu.style.display = 'none';
            } else {
                userStatus.textContent = 'Masuk / Daftar';
                loggedInMenu.style.display = 'none';
                loggedOutMenu.style.display = 'block';
            }
        }

        function showAuthModal(type) {
            const modal = document.getElementById('authModal');
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            
            if (type === 'login') {
                loginForm.style.display = 'block';
                registerForm.style.display = 'none';
            } else {
                loginForm.style.display = 'none';
                registerForm.style.display = 'block';
            }
            
            modal.classList.add('show');
            document.getElementById('userDropdown').classList.remove('show');
        }

        function closeAuthModal() {
            document.getElementById('authModal').classList.remove('show');
        }

        function login(event) {
            event.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Get stored users
            const users = JSON.parse(localStorage.getItem('tianstore_users') || '[]');
            const user = users.find(u => u.email === email && u.password === password);
            
            if (user) {
                currentUser = user;
                localStorage.setItem('tianstore_user', JSON.stringify(user));
                updateUserDisplay();
                closeAuthModal();
                showNotification('Login berhasil!', 'success');
            } else {
                showNotification('Email atau password salah!', 'error');
            }
        }

        function register(event) {
            event.preventDefault();
            
            const username = document.getElementById('registerUsername').value;
            const phone = document.getElementById('registerPhone').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const referralCode = document.getElementById('referralCode').value;
            
            if (password !== confirmPassword) {
                showNotification('Password tidak cocok!', 'error');
                return;
            }
            
            // Get stored users
            const users = JSON.parse(localStorage.getItem('tianstore_users') || '[]');
            
            // Check if email already exists
            if (users.find(u => u.email === email)) {
                showNotification('Email sudah terdaftar!', 'error');
                return;
            }
            
            // Create new user
            const newUser = {
                id: Date.now(),
                username,
                phone,
                email,
                password,
                referralCode,
                createdAt: new Date().toISOString()
            };
            
            users.push(newUser);
            localStorage.setItem('tianstore_users', JSON.stringify(users));
            
            currentUser = newUser;
            localStorage.setItem('tianstore_user', JSON.stringify(newUser));
            updateUserDisplay();
            closeAuthModal();
            showNotification('Registrasi berhasil!', 'success');
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('tianstore_user');
            updateUserDisplay();
            document.getElementById('userDropdown').classList.remove('show');
            showNotification('Logout berhasil!', 'success');
        }

        function toggleUserMenu() {
            const dropdown = document.getElementById('userDropdown');
            dropdown.classList.toggle('show');
        }

        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionName).classList.add('active');
            
            // Close user dropdown
            document.getElementById('userDropdown').classList.remove('show');
        }

        function loadPopularProducts() {
            const popularContainer = document.getElementById('popularProducts');
            const popularProducts = allProducts.slice(0, 6); // First 6 products
            
            popularContainer.innerHTML = popularProducts.map(product => `
                <div class="product-card glass fade-in">
                    <div class="product-image">${product.image}</div>
                    <div class="product-name">${product.name}</div>
                    <div class="product-price">Rp ${product.price.toLocaleString('id-ID')}</div>
                    <div class="product-stock">Stok: ${product.stock}</div>
                    <button class="add-to-cart" onclick="addToCart(${product.id})" ${product.stock === 0 ? 'disabled' : ''}>
                        ${product.stock === 0 ? 'Stok Habis' : 'Tambah ke Keranjang'}
                    </button>
                </div>
            `).join('');
        }

        function loadCategories() {
            const categoryNav = document.getElementById('categoryNav');
            const categoryButtons = ['all', ...Object.keys(categories)].map(category => `
                <button class="category-btn ${category === currentCategory ? 'active' : ''}" 
                        onclick="filterByCategory('${category}')">
                    ${category === 'all' ? 'Semua' : category}
                </button>
            `).join('');
            
            categoryNav.innerHTML = categoryButtons;
        }

        function loadProducts() {
            const productsGrid = document.getElementById('productsGrid');
            let productsToShow = allProducts;
            
            if (currentCategory !== 'all') {
                productsToShow = allProducts.filter(product => product.category === currentCategory);
            }
            
            productsGrid.innerHTML = productsToShow.map(product => `
                <div class="product-card glass fade-in">
                    <div class="product-image">${product.image}</div>
                    <div class="product-name">${product.name}</div>
                    <div class="product-price">Rp ${product.price.toLocaleString('id-ID')}</div>
                    <div class="product-stock">Stok: ${product.stock}</div>
                    <button class="add-to-cart" onclick="addToCart(${product.id})" ${product.stock === 0 ? 'disabled' : ''}>
                        ${product.stock === 0 ? 'Stok Habis' : 'Tambah ke Keranjang'}
                    </button>
                </div>
            `).join('');
        }

        function filterByCategory(category) {
            currentCategory = category;
            
            // Update active button
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            loadProducts();
        }

        function searchProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const productsGrid = document.getElementById('productsGrid');
            
            let productsToShow = allProducts.filter(product => 
                product.name.toLowerCase().includes(searchTerm)
            );
            
            if (currentCategory !== 'all') {
                productsToShow = productsToShow.filter(product => product.category === currentCategory);
            }
            
            productsGrid.innerHTML = productsToShow.map(product => `
                <div class="product-card glass fade-in">
                    <div class="product-image">${product.image}</div>
                    <div class="product-name">${product.name}</div>
                    <div class="product-price">Rp ${product.price.toLocaleString('id-ID')}</div>
                    <div class="product-stock">Stok: ${product.stock}</div>
                    <button class="add-to-cart" onclick="addToCart(${product.id})" ${product.stock === 0 ? 'disabled' : ''}>
                        ${product.stock === 0 ? 'Stok Habis' : 'Tambah ke Keranjang'}
                    </button>
                </div>
            `).join('');
        }

        function addToCart(productId) {
            const product = allProducts.find(p => p.id === productId);
            if (!product || product.stock === 0) return;
            
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                if (existingItem.quantity < product.stock) {
                    existingItem.quantity++;
                } else {
                    showNotification('Stok tidak mencukupi!', 'error');
                    return;
                }
            } else {
                cart.push({
                    ...product,
                    quantity: 1
                });
            }
            
            updateCartDisplay();
            showNotification('Produk ditambahkan ke keranjang!', 'success');
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartDisplay();
        }

        function updateQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (!item) return;
            
            const product = allProducts.find(p => p.id === productId);
            const newQuantity = item.quantity + change;
            
            if (newQuantity <= 0) {
                removeFromCart(productId);
            } else if (newQuantity <= product.stock) {
                item.quantity = newQuantity;
                updateCartDisplay();
            } else {
                showNotification('Stok tidak mencukupi!', 'error');
            }
        }

        function updateCartDisplay() {
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            const cartBadge = document.getElementById('cartBadge');
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<div style="text-align: center; color: rgba(255,255,255,0.7); padding: 2rem;">Keranjang kosong</div>';
                cartTotal.textContent = 'Total: Rp 0';
                cartBadge.textContent = '0';
                return;
            }
            
            cartItems.innerHTML = cart.map(item => `
                <div class="cart-item">
                    <div class="cart-item-info">
                        <div class="cart-item-name">${item.name}</div>
                        <div class="cart-item-price">Rp ${item.price.toLocaleString('id-ID')}</div>
                    </div>
                    <div class="cart-item-controls">
                        <button class="qty-btn" onclick="updateQuantity(${item.id}, -1)">-</button>
                        <span style="margin: 0 0.5rem; color: white;">${item.quantity}</span>
                        <button class="qty-btn" onclick="updateQuantity(${item.id}, 1)">+</button>
                        <button class="qty-btn" onclick="removeFromCart(${item.id})" style="margin-left: 0.5rem; background: rgba(239, 68, 68, 0.2);">Ã—</button>
                    </div>
                </div>
            `).join('');
            
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            
            cartTotal.textContent = `Total: Rp ${total.toLocaleString('id-ID')}`;
            cartBadge.textContent = totalItems.toString();
        }

        function toggleCart() {
            const cartContainer = document.getElementById('cartContainer');
            cartContainer.classList.toggle('show');
        }

        function checkout() {
            if (cart.length === 0) {
                showNotification('Keranjang kosong!', 'error');
                return;
            }
            
            const config = window.elementSdk?.config || defaultConfig;
            const whatsappNum = config.whatsapp_number || defaultConfig.whatsapp_number;
            
            let message = 'Halo, saya ingin membeli:\n\n';
            let total = 0;
            
            cart.forEach(item => {
                const subtotal = item.price * item.quantity;
                message += `${item.name} x${item.quantity} = Rp ${subtotal.toLocaleString('id-ID')}\n`;
                total += subtotal;
            });
            
            message += `\nTotal: Rp ${total.toLocaleString('id-ID')}\n\nTerima kasih!`;
            
            const whatsappUrl = `https://wa.me/${whatsappNum}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
            
            // Clear cart after checkout
            cart = [];
            updateCartDisplay();
            toggleCart();
            showNotification('Pesanan dikirim ke WhatsApp!', 'success');
        }

        function showNotification(message, type) {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 2rem;
                background: ${type === 'success' ? 'rgba(16, 185, 129, 0.9)' : 'rgba(239, 68, 68, 0.9)'};
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 12px;
                backdrop-filter: blur(20px);
                border: 1px solid rgba(255, 255, 255, 0.2);
                z-index: 3000;
                animation: slideIn 0.3s ease;
                font-weight: 500;
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.animation = 'fadeOut 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Close dropdowns when clicking outside
        document.addEventListener('click', function(event) {
            const userMenu = document.querySelector('.user-menu');
            const authModal = document.getElementById('authModal');
            
            if (!userMenu.contains(event.target)) {
                document.getElementById('userDropdown').classList.remove('show');
            }
            
            if (event.target === authModal) {
                closeAuthModal();
            }
        });

        // Element SDK Integration
        const elementConfig = {
            store_name: "Tian Store",
            store_tagline: "Tempat Top Up dan Belanja Digital Termurah & Terpercaya",
            whatsapp_number: "628123456789",
            instagram_handle: "@brzee_.sky",
            support_email: "support@tianstore.com"
        };

        async function render(config) {
            // Update store name
            const storeName = config.store_name || elementConfig.store_name;
            document.getElementById('store-name').textContent = storeName;
            document.getElementById('store-name-hero').textContent = storeName;
            document.getElementById('footer-store-name').textContent = storeName;
            document.getElementById('footer-copyright').textContent = storeName;
            
            // Update tagline
            document.getElementById('store-tagline').textContent = config.store_tagline || elementConfig.store_tagline;
            
            // Update contact info
            const whatsappNum = config.whatsapp_number || elementConfig.whatsapp_number;
            document.getElementById('whatsapp-display').textContent = `+${whatsappNum}`;
            document.getElementById('instagram-display').textContent = config.instagram_handle || elementConfig.instagram_handle;
            document.getElementById('email-display').textContent = config.support_email || elementConfig.support_email;
            
            // Update links
            document.getElementById('whatsapp-link').href = `https://wa.me/${whatsappNum}`;
            document.getElementById('instagram-link').href = `https://instagram.com/${(config.instagram_handle || elementConfig.instagram_handle).replace('@', '')}`;
            document.getElementById('checkTransactionBtn').href = `https://wa.me/${whatsappNum}?text=Halo, saya ingin mengecek status transaksi saya.`;
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ["store_name", config.store_name || elementConfig.store_name],
                ["store_tagline", config.store_tagline || elementConfig.store_tagline],
                ["whatsapp_number", config.whatsapp_number || elementConfig.whatsapp_number],
                ["instagram_handle", config.instagram_handle || elementConfig.instagram_handle],
                ["support_email", config.support_email || elementConfig.support_email]
            ]);
        }

        // Initialize Element SDK
        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig: elementConfig,
                render: render,
                mapToCapabilities: mapToCapabilities,
                mapToEditPanelValues: mapToEditPanelValues
            });
        }
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9914a2d9a0a1b573',t:'MTc2MDkyMjYzMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
